# 搭建手册
- 阿里云搭建宝塔界面
  1. 在阿里云开通一个宝塔实例，然后登陆宝塔，端口号8888，账户密码通过ssh查看
  2. 在宝塔内的软件商店安装Nginx及MySQL，选择对应的版本
  3. 在宝塔界面的安全内开放几个端口，例如
     1. 3306 MySQL
     2. 8080 网站访问
     3. 再开放个端口给后台访问
  4. 将宝塔内的MySQL及Nginx添加到首页，方便后面点击配置
  ## MySQL数据库配置
  1. 添加一个数据库，记住用户名和密码，方便登录，设置好编码格式
  2. 使用Navicat数据库创建表以及表中的数据，创建语句可在教程中查找
  3. 修改后台的数据库信息
  ## Nginx配置修改
  1. 修改server中的listen即访问页面的端口号
  2. 修改server中的root 定位到当前前端项目的本地地址
  3. 修改server中的error_page   404的page页，不然访问错误直接跳转为错误
  4. 增加一句即可访问
    `location \ {
              try_files $uri $uri/ /index.html;
    }`
  ## 后台搭建及启动
  1. 后台修改完毕后打包为jar包
  2. 将jar包上传到服务器任何位置，然后使用语句` java -jar jar包名 `即可启动后台服务器
  ## 相关配置修改
  1. 当前端、后端、数据库都启动完成，访问ip地址:端口号即可访问登录页
  2. 输入登录账号和密码后出现浏览器console `OPTIONS http://localhost:8443/api/login net::ERR_CONNECTION_REFUSED` 错误
  3. 经指导，发现这个错误是跨域访问出现的错误
  [什么是跨域访问](https://blog.csdn.net/Wen__Fei/article/details/101458322)
  4. 在springboot 中，前端和后端存在跨域访问的问题，虽然可以通过后端代码解决，但是不安全，所以我们应该从前端解决
  5. 因为我们前端是使用IP地址访问的，并且前端和后端都搭建在服务器上，也不是本地端127.0.0.1能访问的，我们访问前端的ip地址为123.456.789.123(假设，也不可能出现这样的IP),
  而前端访问后台使用的是localhost，IP地址不一样，所以存在跨域问题。
  6. 怎么解决上面的跨域问题呢？
  7. 在前端Vue的文件`src\main.js` 中找到 `axios.defaults.baseURL='localhost:8443/api'` 将`localhost`换为后端的IP地址即可
